{% extends 'dashboard_template.html' %}
{% block content %}
{% import 'components.html' as component %}
<main class="">
    <div class="grid mb-4 pb-10 px-8 mx-4 rounded-3xl bg-gray-100 border-4 border-gray-400">
        <div class="grid grid-cols-12 gap-6">
            <div class="grid grid-cols-12 col-span-12 gap-6 xxl:col-span-9">
                <div class="col-span-12 mt-8">
                    <div class="flex items-center h-3 intro-y">
                        <h1 class="mr-5 text-lg font-medium truncate">Welcome
                            <span
                                class="bg-clip-text font-bold text-transparent bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 ">
                                {{ student }} | {{ student.course }}-{{ student.year }}
                            </span>
                        </h1>
                    </div>
                    <div class="grid grid-cols-12 gap-6 mt-5">
                        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
                            href="{{ url_for('main.sessions') }}">
                            <div class="p-5">
                                <div class="flex justify-between">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="currentColor" class="size-6 h-7 w-7 text-blue-400">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                                    </svg>
                                    <div>
                                        {% if (student.session / 30 * 100) >= 70 %}
                                        <span
                                            class="bg-green-500 rounded-full h-6 px-2 flex items-center text-white font-semibold text-sm">
                                            {% elif (student.session / 30 * 100) > 30 %}
                                            <span
                                                class="bg-yellow-500 rounded-full h-6 px-2 flex items-center text-white font-semibold text-sm">
                                                {% else %}
                                                <span
                                                    class="bg-red-500 rounded-full h-6 px-2 flex items-center text-white font-semibold text-sm">
                                                    {% endif %}
                                                    {{ (student.session / 30 * 100) | round | int }}%
                                                </span>

                                    </div>
                                </div>
                                <div class="ml-2 w-full flex-1">
                                    <div>
                                        <div class="mt-3 text-3xl font-bold leading-8">{{ student.session }}</div>

                                        <div class="mt-1 text-base text-gray-600">Sessions Left</div>
                                    </div>
                                </div>
                            </div>
                        </a>
                        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
                            href="{{ url_for('main.sitin') }}">
                            <div class="p-5">
                                <div class="flex justify-between">
                                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                        stroke-width="1.5" stroke="currentColor" class="size-6 h-7 w-7 text-yellow-400">
                                        <path stroke-linecap="round" stroke-linejoin="round"
                                            d="M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25" />
                                    </svg>

                                    <div
                                        class="bg-red-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                                        <span class="flex items-center">30%</span>
                                    </div>
                                </div>
                                <div class="ml-2 w-full flex-1">
                                    <div>
                                        <div class="mt-3 text-3xl font-bold leading-8">
                                            <p id="totalLabs">Loading...</p>
                                        </div>

                                        <div class="mt-1 text-base text-gray-600">Labs Open</div>
                                    </div>
                                </div>
                            </div>
                        </a>
                        <a class="transform  hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
                            href="{{ url_for('main.sessions') }}">
                            <div class="p-5">
                                <div class="flex justify-between">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-pink-600" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z" />
                                    </svg>
                                    <div
                                        class="bg-yellow-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                                        <span class="flex items-center">30%</span>
                                    </div>
                                </div>
                                <div class="ml-2 w-full flex-1">
                                    <div>
                                        <div class="mt-3 text-3xl font-bold leading-8">
                                            <p id="total-sitins">Loading...</p>
                                        </div>
                                        <div class="mt-1 text-base text-gray-600">Total Sit-ins</div>
                                    </div>
                                </div>
                            </div>
                        </a>
                        <!---
                        <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 122.88 66.49">
                            <defs>
                                <style>
                                    .cls-1 {
                                        fill-rule: evenodd;
                                    }
                                </style>
                            </defs>
                            <title>leaderboard</title>
                            <path class="cls-1"
                                d="M2.27,18.3H34.05a2.27,2.27,0,0,1,2.27,2.27V64.22a2.27,2.27,0,0,1-2.27,2.27H2.27A2.27,2.27,0,0,1,0,64.22V20.57A2.27,2.27,0,0,1,2.27,18.3ZM68.4,9.44V31H61V17.39l-4.52,1.8-2-5.3,7.66-4.45ZM26,49.45H11V43.81l2.84-2.75c.62-.57,1.21-1.13,1.77-1.7L17,38a7.69,7.69,0,0,0,1-1.24,3.52,3.52,0,0,0,.54-1,2.82,2.82,0,0,0,.09-.71,1.08,1.08,0,0,0-.5-1.08,4.54,4.54,0,0,0-1.73-.23,24,24,0,0,0-4.32.36l-.69.13L11,28.58a21.3,21.3,0,0,1,7.12-1.21A9.13,9.13,0,0,1,24,29.06a5.64,5.64,0,0,1,2.12,4.68,9.36,9.36,0,0,1-1,4.7A11.9,11.9,0,0,1,21.45,42l-2.19,1.54H26v5.9ZM103.1,37.19q4.82,0,7,1.37t2.18,4.85a6.81,6.81,0,0,1-.44,2.75,4.59,4.59,0,0,1-1.56,1.74A6.49,6.49,0,0,1,112,49.78a5.44,5.44,0,0,1,.52,2.64q0,4.09-2.13,5.65t-6.58,1.55A28.12,28.12,0,0,1,98,59l-1.08-.23L97.07,53q3.77.33,5.37.33a8,8,0,0,0,2.13-.18.76.76,0,0,0,.53-.79.91.91,0,0,0-.37-.83,2.48,2.48,0,0,0-1.37-.33H98.74v-5.8h4.32c1.18,0,1.77-.33,1.77-1s-.75-1-2.26-1c-1,0-2.53.08-4.52.23l-.85.07L97,38.14a26.29,26.29,0,0,1,6.06-1ZM45.55,0H77.33A2.27,2.27,0,0,1,79.6,2.27v62a2.27,2.27,0,0,1-2.27,2.27H45.55a2.27,2.27,0,0,1-2.27-2.27V2.27A2.27,2.27,0,0,1,45.55,0ZM88.83,30.35h31.78a2.28,2.28,0,0,1,2.27,2.27v31.6a2.27,2.27,0,0,1-2.27,2.27H88.83a2.27,2.27,0,0,1-2.27-2.27V32.62a2.27,2.27,0,0,1,2.27-2.27Z" />
                        </svg>
                    -->
                        <a class="transform hover:scale-105 transition duration-300 shadow-xl rounded-lg col-span-12 sm:col-span-6 xl:col-span-3 intro-y bg-white"
                            href="#">
                            <div class="p-5">
                                <div class="flex justify-between">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-green-400"
                                        viewBox="0 0 360 511.48">
                                        <polygon fill="#D0401B"
                                            points="144.83,306.61 296.28,280.53 360,429.51 281.2,428.61 216.45,481.14 " />
                                        <polygon fill="#FF6600"
                                            points="231.94,290.08 69.57,294.38 0,459.86 78.8,458.95 143.55,511.48 " />
                                        <path fill="#F5C800"
                                            d="M183.21 0.03c9.35,-0.4 16.72,2.86 24.15,7.59 9.44,5.98 20.06,17.8 33.17,25.3 18.45,10.54 52.61,-4 70.11,21.99 10.21,15.16 10.69,27.04 11.45,38.78 0.82,12.67 3.04,24.32 16,41.47 21.47,28.38 25.94,47.27 14.88,66.96 -7.54,13.42 -23.41,20.88 -27.09,29.38 -7.81,18.09 0.83,31.72 -9.87,52.81 -7.43,14.62 -18.89,24.26 -34.16,29.18 -12.88,4.14 -25.8,-1.85 -36.1,2.48 -18.12,7.61 -31.48,25.3 -45.89,29.77 -5.57,1.73 -11.11,2.58 -16.65,2.54 -5.53,0.04 -11.08,-0.81 -16.64,-2.54 -14.42,-4.47 -27.78,-22.16 -45.9,-29.77 -10.3,-4.33 -23.22,1.66 -36.1,-2.48 -15.26,-4.92 -26.73,-14.56 -34.16,-29.18 -10.7,-21.09 -2.06,-34.72 -9.87,-52.81 -3.68,-8.5 -19.55,-15.96 -27.09,-29.38 -11.06,-19.69 -6.58,-38.58 14.88,-66.96 12.96,-17.15 15.18,-28.8 16,-41.47 0.76,-11.74 1.24,-23.62 11.45,-38.78 17.5,-25.99 51.66,-11.45 70.11,-21.99 13.12,-7.5 23.73,-19.32 33.17,-25.3 7.44,-4.73 14.81,-7.99 24.15,-7.59z" />
                                        <path fill="#FFDD61"
                                            d="M183.21 0.04c9.35,-0.41 16.71,2.86 24.15,7.58 9.44,5.98 20.06,17.8 33.17,25.3 14.67,8.38 39.28,0.91 57.54,10.56l-206.12 271.42c-2.45,-0.2 -4.92,-0.62 -7.38,-1.41 -15.27,-4.92 -26.73,-14.55 -34.16,-29.18 -10.7,-21.09 -2.06,-34.72 -9.87,-52.81 -3.68,-8.5 -19.55,-15.96 -27.09,-29.38 -11.06,-19.69 -6.58,-38.58 14.87,-66.96 12.97,-17.14 15.19,-28.8 16.01,-41.47 0.76,-11.74 1.24,-23.62 11.44,-38.78 17.51,-26 51.68,-11.45 70.12,-21.99 13.12,-7.5 23.74,-19.32 33.17,-25.3 7.44,-4.72 14.81,-7.99 24.15,-7.58z" />
                                        <circle fill="#E37E00" cx="182.71" cy="176.83" r="130.04" />
                                        <path fill="#F5C800"
                                            d="M182.71 72.88c57.41,0 103.94,46.54 103.94,103.95 0,57.41 -46.53,103.95 -103.94,103.95 -57.41,0 -103.95,-46.54 -103.95,-103.95 0,-57.41 46.54,-103.95 103.95,-103.95z" />
                                        <path fill="#FFDD61"
                                            d="M182.71 72.88c27.48,0 52.49,10.67 71.07,28.09l-127.44 163.2c-4.62,-2.98 -8.99,-6.33 -13.07,-9.99 -21.18,-19.02 -34.51,-46.63 -34.51,-77.35 0,-57.41 46.54,-103.95 103.95,-103.95z" />
                                        <path fill="#E37E00" fill-rule="nonzero"
                                            d="M185.78 116.08l16.31 38.19 41.36 3.71c1.83,0.16 3.18,1.77 3.02,3.59 -0.07,0.89 -0.49,1.67 -1.12,2.21l0 0 -31.29 27.33 9.26 40.5c0.41,1.79 -0.71,3.57 -2.5,3.98 -0.92,0.21 -1.83,0.02 -2.56,-0.45l-35.55 -21.26 -35.66 21.32c-1.57,0.94 -3.61,0.43 -4.55,-1.14 -0.46,-0.77 -0.57,-1.64 -0.39,-2.45l0 0 9.26 -40.5 -31.3 -27.33c-1.38,-1.2 -1.52,-3.3 -0.31,-4.68 0.61,-0.7 1.46,-1.08 2.32,-1.13l41.26 -3.7 16.32 -38.21c0.72,-1.69 2.67,-2.47 4.35,-1.75 0.84,0.35 1.45,1 1.77,1.77l0 0z" />
                                    </svg>
                                    <div
                                        class="bg-blue-500 rounded-full h-6 px-2 flex justify-items-center text-white font-semibold text-sm">
                                        <span class="flex items-center">30%</span>
                                    </div>
                                </div>
                                <div class="ml-2 w-full flex-1">
                                    <div class="flex items-center">
                                        <div class="relative w-12 h-12 mr-3">
                                            <svg class="w-full h-full" viewBox="0 0 36 36">
                                                <path d="M18 2.0845
                                                    a 15.9155 15.9155 0 0 1 0 31.831
                                                    a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#e6e6e6"
                                                    stroke-width="3" />
                                                <path d="M18 2.0845
                                                    a 15.9155 15.9155 0 0 1 0 31.831
                                                    a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#3b82f6"
                                                    stroke-width="3" stroke-dasharray="60, 100" />
                                            </svg>
                                            <div
                                                class="absolute inset-0 flex items-center justify-center text-lg font-bold">
                                                6</div>
                                        </div>
                                        <div>
                                            <div class="text-lg font-semibold">Ranking</div>
                                            <div class="text-sm text-gray-500">Top 20%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="col-span-12 mt-5">
                    <div class="grid gap-2 grid-cols-1 lg:grid-cols-2">
                        <div class="bg-white shadow-lg p-4">
                            <h1
                                class="text-2xl font-bold p-2 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent text-center mb-6">
                                üèõÔ∏è LAB RULES AND REGULATIONS üî¨
                            </h1>

                            <!-- Scrollable Container -->
                            <div
                                class="bg-white shadow-lg rounded-lg p-5 max-w-4xl mx-auto max-h-[70vh] overflow-y-auto scrollbar-thin scrollbar-thumb-blue-500 scrollbar-track-gray-200">
                                <h2 class="text-xl font-semibold text-gray-800 border-b pb-1 mb-4">üìú General Guidelines
                                </h2>
                                <ul class="list-disc list-inside text-gray-600 space-y-2">
                                    <li>‚úÖ Walkmans and other personal pieces of equipment must be switched off.</li>
                                    <li>üïí Games are not allowed inside the lab. This includes computer-related games,
                                        card games, and other games that may disturb the operation of the lab.</li>
                                    <li>üõë Surfing the Internet is allowed only with the permission of the instructor.
                                        Downloading and installing software are strictly prohibited.</li>
                                    <li>üö∏ Accessing websites not related to the course (especially pornographic and
                                        illicit sites) is strictly prohibited.</li>
                                    <li>üîí Deleting computer files and changing the setup of the computer is a major
                                        offense.</li>
                                    <li>‚è≥ Observe computer time usage carefully. A fifteen-minute allowance is given for
                                        each use. Otherwise, the unit will be given to those who wish to "sit-in."</li>
                                </ul>

                                <h2 class="text-xl font-semibold text-gray-800 border-b pb-2 mt-6 mb-4">‚ö†Ô∏è Laboratory
                                    Conduct</h2>
                                <ul class="list-disc list-inside text-gray-600 space-y-2">
                                    <li>üßë‚Äçüè´ Do not enter the lab unless the instructor is present.</li>
                                    <li>üéí All bags, knapsacks, and similar items must be deposited at the counter.</li>
                                    <li>üí∫ Follow the seating arrangement assigned by your instructor.</li>
                                    <li>üñ•Ô∏è At the end of class, all software programs must be closed.</li>
                                    <li>ü™ë Return all chairs to their proper places after use.</li>
                                    <li>üö´ Chewing gum, eating, drinking, smoking, and other forms of vandalism are
                                        prohibited inside the lab.</li>
                                </ul>

                                <h2 class="text-xl font-semibold text-gray-800 border-b pb-2 mt-6 mb-4">üö® Disciplinary
                                    Actions</h2>
                                <ul class="list-disc list-inside text-gray-600 space-y-2">
                                    <li>üîá Anyone causing a continual disturbance will be asked to leave the lab. Acts
                                        or gestures offensive to the community, including public displays of physical
                                        intimacy, are not tolerated.</li>
                                    <li>‚ö†Ô∏è Persons exhibiting hostile or threatening behavior (e.g., yelling, swearing,
                                        or disregarding requests from lab personnel) will be asked to leave the lab.
                                    </li>
                                    <li>üöî For serious offenses, lab personnel may call the Civil Security Office (CSU)
                                        for assistance.</li>
                                    <li>üîß Any technical problems or difficulties must be reported to the laboratory
                                        supervisor, student assistant, or instructor immediately.</li>
                                </ul>

                                <h2 class="text-xl font-semibold text-gray-800 border-b pb-2 mt-6 mb-4">‚öñÔ∏è Disciplinary
                                    Measures</h2>
                                <ul class="list-disc list-inside text-gray-600 space-y-2">
                                    <li>üìù <strong>First Offense:</strong> The Head, Dean, or OIC will recommend
                                        suspension from classes for each offender, in consultation with the Guidance
                                        Center.</li>
                                    <li>üìú <strong>Second and Subsequent Offenses:</strong> A recommendation for a
                                        heavier sanction will be endorsed to the Guidance Center.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="bg-white shadow-lg p-4">
                            <h1
                                class="text-2xl font-bold p-2 bg-gradient-to-r from-blue-500 to-pink-500 bg-clip-text text-transparent text-center mb-6 animate-fadeInUp">
                                üì¢ Announcements ‚ú®
                            </h1>
                            <div id="announcement-container"
                                class="bg-white shadow-lg rounded-lg p-1 max-w-4xl mx-auto max-h-[70vh] overflow-y-auto scrollbar-thin scrollbar-thumb-blue-500 scrollbar-track-gray-200">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script>
    // Fetch announcements when the page loads
    document.addEventListener('DOMContentLoaded', fetchAnnouncements1);

    document.addEventListener('DOMContentLoaded', fetchTotalSitins);

    document.addEventListener('DOMContentLoaded', async () => {
        try {
            const totalLabsElement = document.getElementById('totalLabs');

            if (!totalLabsElement) {
                console.error('Element with id "totalLabs" not found');
                return;
            }

            // Show loading state
            totalLabsElement.textContent = 'Loading...';

            const response = await fetch('/api/labs');

            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }

            const labs = await response.json();

            // Verify labs is an array
            if (!Array.isArray(labs)) {
                throw new Error('Invalid data format - expected array');
            }

            totalLabsElement.textContent = labs.length;

        } catch (error) {
            console.error('Error fetching labs:', error);
            const totalLabsElement = document.getElementById('totalLabs');
            if (totalLabsElement) {
                totalLabsElement.textContent = 'Error';
                totalLabsElement.title = error.message; // Show error on hover
            }
        }
    });

    async function fetchTotalSitins() {
        try {
            const student_idno = '{{ student.idno }}'; // Ensure this is correctly populated
            const response = await fetch(`/api/session-records/${student_idno}`, {
                credentials: 'include', // Include cookies in the request
            });

            // Handle unauthorized access
            if (response.status === 401) {
                window.location.href = '/login'; // Redirect to login page
                return;
            }

            // Handle other HTTP errors
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }

            // Parse the response as JSON
            const data = await response.json();

            // Check if the response is an array (or has a `data` property)
            if (Array.isArray(data)) {
                const totalSitinsCount = data.length; // Get the count of sit-ins
                document.getElementById('total-sitins').textContent = totalSitinsCount;
            } else if (data.success && Array.isArray(data.data)) {
                // If the response has a `data` property
                const totalSitinsCount = data.data.length;
                document.getElementById('total-sitins').textContent = totalSitinsCount;
            } else {
                // Handle invalid response format
                throw new Error('Invalid response format from the server');
            }
        } catch (error) {
            console.error('Fetch error:', error);
            Swal.fire({
                icon: 'error',
                title: 'Error!',
                text: 'Failed to fetch total sit-ins. Please try again later.',
            });
        }
    }

    async function fetchAnnouncements1() {
        try {
            const response = await fetch('/api/announcements', {
                credentials: 'include',  // Include cookies in the request
            });

            if (response.status === 401) {
                // Redirect to login page if unauthorized
                window.location.href = '/login';
                return;
            }

            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }

            const announcements = await response.json();

            if (announcements.success) {
                renderAnnouncements1(announcements);
            } else {
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: announcements.message,
                });
            }
        } catch (error) {
            console.error('Fetch error:', error);
            Swal.fire({
                icon: 'error',
                title: 'Error!',
                text: 'Failed to fetch announcements. Please try again later.',
            });
        }
    }

    // Function to render announcements
    function renderAnnouncements1(announcements) {
        const container = document.getElementById('announcement-container');
        container.innerHTML = ''; // Clear existing content
        announcements.data.forEach(announcement => {
            const announcementItem = document.createElement('div');
            announcementItem.className = 'bg-gray-50 p-6 rounded-lg shadow-sm hover:shadow-md transition';

            announcementItem.innerHTML = `
            <div class="flex justify-between items-start">
              <div>
                <h3 class="text-xl font-semibold text-gray-800">${announcement.post_title}</h3>
                <div class="flex justify-between items-center mt-4">
                  <p class="text-blue-400 font-light">Posted by: ${announcement.posted_by}</p>
                  <p class="text-blue-400 font-light">Posted on: ${formatDate(announcement.date_posted)}</p>
                </div>
                <p class="text-gray-600 mt-2">${announcement.post_description}</p>
              </div>
            </div>
            <div class="mt-4">
              <img src="/static/images/announcements/${announcement.image}" alt="Announcement Photo" class="w-full rounded-lg" />
            </div>
          `;

            container.appendChild(announcementItem);
        });

    }

    // Function to delete an announcement
    function deleteAnnouncement(id) {
        fetch(`/api/announcements/${id}`, {
            method: 'DELETE',
        })
            .then(response => {
                if (response.ok) {
                    fetchAnnouncements(); // Refresh the list after deletion
                } else {
                    console.error('Failed to delete the announcement');
                }
            })
            .catch(error => {
                console.error('There was a problem with the delete operation:', error);
            });
    }

    function formatDate(dateString) {
        const date = new Date(dateString);

        // Extract components
        const month = date.toLocaleString('default', { month: 'long' }); // Full month name (e.g., "October")
        const day = date.getDate(); // Day of the month (e.g., 5)
        const year = date.getFullYear(); // Year (e.g., 2023)
        const time = date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' }); // Time (e.g., "02:30 PM")

        // Format as "Month Day, Year, Time"
        return `${month} ${day}, ${year}, ${time}`;
    }
    function data() {

        return {

            isSideMenuOpen: false,
            toggleSideMenu() {
                this.isSideMenuOpen = !this.isSideMenuOpen
            },
            closeSideMenu() {
                this.isSideMenuOpen = false
            },
            isNotificationsMenuOpen: false,
            toggleNotificationsMenu() {
                this.isNotificationsMenuOpen = !this.isNotificationsMenuOpen
            },
            closeNotificationsMenu() {
                this.isNotificationsMenuOpen = false
            },
            isProfileMenuOpen: false,
            toggleProfileMenu() {
                this.isProfileMenuOpen = !this.isProfileMenuOpen
            },
            closeProfileMenu() {
                this.isProfileMenuOpen = false
            },
            isPagesMenuOpen: false,
            togglePagesMenu() {
                this.isPagesMenuOpen = !this.isPagesMenuOpen
            },

        }
    }
    var chart = document.querySelector('#chartline')
    var options = {
        series: [{
            name: 'TEAM A',
            type: 'area',
            data: [44, 55, 31, 47, 31, 43, 26, 41, 31, 47, 33]
        }, {
            name: 'TEAM B',
            type: 'line',
            data: [55, 69, 45, 61, 43, 54, 37, 52, 44, 61, 43]
        }],
        chart: {
            height: 350,
            type: 'line',
            zoom: {
                enabled: false
            }
        },
        stroke: {
            curve: 'smooth'
        },
        fill: {
            type: 'solid',
            opacity: [0.35, 1],
        },
        labels: ['Dec 01', 'Dec 02', 'Dec 03', 'Dec 04', 'Dec 05', 'Dec 06', 'Dec 07', 'Dec 08', 'Dec 09 ',
            'Dec 10', 'Dec 11'
        ],
        markers: {
            size: 0
        },
        yaxis: [{
            title: {
                text: 'Series A',
            },
        },
        {
            opposite: true,
            title: {
                text: 'Series B',
            },
        },
        ],
        tooltip: {
            shared: true,
            intersect: false,
            y: {
                formatter: function (y) {
                    if (typeof y !== "undefined") {
                        return y.toFixed(0) + " points";
                    }
                    return y;
                }
            }
        }
    };
    var chart = new ApexCharts(chart, options);
    chart.render();

    var chart = document.querySelector('#chartpie')
    var options = {
        series: [44, 55, 67, 83],
        chart: {
            height: 350,
            type: 'radialBar',
        },
        plotOptions: {
            radialBar: {
                dataLabels: {
                    name: {
                        fontSize: '22px',
                    },
                    value: {
                        fontSize: '16px',
                    },
                    total: {
                        show: true,
                        label: 'Total',
                        formatter: function (w) {
                            // By default this function returns the average of all series. The below is just an example to show the use of custom formatter function
                            return 249
                        }
                    }
                }
            }
        },
        labels: ['Apples', 'Oranges', 'Bananas', 'Berries'],
    };
    var chart = new ApexCharts(chart, options);
    chart.render();
</script>
{% endblock %}